{"version":3,"sources":["webpack:///./src/views/Countries.vue?239c","webpack:///src/views/Countries.vue","webpack:///./src/views/Countries.vue?9905","webpack:///./src/views/Countries.vue?ef7c","webpack:///./src/views/Countries.vue?f202"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","$event","preventDefault","doSearch","pageSizes","handlePageSizeChange","model","value","callback","$$v","pageSize","expression","ref","searchString","_v","totalPages","handlePageChange","page","_l","item","key","stationuuid","staticClass","scopedSlots","_u","fn","hover","nativeOn","doSelect","name","iconUrl","_s","countryCode","countryName","stationcount","staticRenderFns","component","VBtn","VCard","VCardText","VCol","VContainer","VForm","VHover","VImg","VPagination","VRow","VSelect","VTextField"],"mappings":"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","file":"js/chunk-4c0794f5.1c4372d0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.doSearch($event)}}},[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"3\",\"sm\":\"2\"}},[_c('v-select',{attrs:{\"items\":_vm.pageSizes,\"label\":\"Countries per Page\"},on:{\"change\":_vm.handlePageSizeChange},model:{value:(_vm.pageSize),callback:function ($$v) {_vm.pageSize=$$v},expression:\"pageSize\"}})],1),_c('v-col',{attrs:{\"cols\":\"5\",\"sm\":\"5\"}},[_c('v-text-field',{ref:\"searchField\",attrs:{\"label\":\"Search by Country Name\"},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\",\"sm\":\"3\"}},[_c('v-btn',{attrs:{\"stacked\":\"\",\"type\":\"submit\"}},[_vm._v(\" Search \")])],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"5\"}},[_c('v-pagination',{attrs:{\"dense\":\"\",\"length\":_vm.totalPages,\"total-visible\":\"7\",\"next-icon\":\"mdi-menu-right\",\"prev-icon\":\"mdi-menu-left\"},on:{\"input\":_vm.handlePageChange},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})],1)],1),_c('v-row',_vm._l((_vm.filteredList),function(item){return _c('v-col',{key:item.stationuuid,staticClass:\"d-flex\"},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-hover',{attrs:{\"close-delay\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn [_c('v-card',{staticClass:\"mx-auto\",attrs:{\"outlined\":\"\",\"tiled\":\"\",\"max-width\":\"150px\",\"elevation\":hover ? 16 : 2},nativeOn:{\"click\":function($event){return _vm.doSelect(item.name)}}},[_c('v-img',{staticClass:\"white--text align-end\",attrs:{\"src\":item.iconUrl,\"height\":\"150px\",\"width\":\"150px\"}}),_c('v-card-text',[_vm._v(\" \"+_vm._s(item.countryCode)+\" - \"+_vm._s(item.countryName)+\" (\"+_vm._s(item.stationcount)+\") \")])],1)]}}],null,true)})],1)],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n\tCopyright 2020 Phil Schatzmann\n\n\tThis program is free software: you can redistribute it and/or modify\n\tit under the terms of the GNU General Public License as published by\n\tthe Free Software Foundation, either version 3 of the License, or\n\t(at your option) any later version.\n\n\tThis program is distributed in the hope that it will be useful,\n\tbut WITHOUT ANY WARRANTY; without even the implied warranty of\n\tMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\tGNU General Public License for more details.\n\n\tYou should have received a copy of the GNU General Public License\n\talong with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<template>\n\t<v-container fluid>\n\t\t<v-form @submit.prevent=\"doSearch\">\n\t\t\t\t<v-row dense>\n\t\t\t\t\t<v-col cols=\"3\" sm=\"2\">\n\t\t\t\t\t\t<v-select\n\t\t\t\t\t\tv-model=\"pageSize\"\n\t\t\t\t\t\t:items=\"pageSizes\"\n\t\t\t\t\t\tlabel=\"Countries per Page\"\n\t\t\t\t\t\t@change=\"handlePageSizeChange\">\n\t\t\t\t\t\t</v-select>\n\t\t\t\t\t</v-col>\n\n\t\t\t\t\t<v-col cols=\"5\" sm=\"5\">\n\t\t\t\t\t\t<v-text-field v-model=\"searchString\" ref=\"searchField\" label=\"Search by Country Name\"></v-text-field>\n\t\t\t\t\t</v-col>\n\n\t\t\t\t\t<v-col cols=\"3\" sm=\"3\">\n\t\t\t\t\t\t<v-btn stacked type=\"submit\"> \n\t\t\t\t\t\t\tSearch\n\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t</v-col>\n\t\t\n\t\t\t\t\t<v-col cols=\"12\" sm=\"5\">\n\t\t\t\t\t\t<v-pagination\n\t\t\t\t\t\t\tdense\n\t\t\t\t\t\t\tv-model=\"page\"\n\t\t\t\t\t\t\t:length=\"totalPages\"\n\t\t\t\t\t\t\ttotal-visible=\"7\"\n\t\t\t\t\t\t\tnext-icon=\"mdi-menu-right\"\n\t\t\t\t\t\t\tprev-icon=\"mdi-menu-left\"\n\t\t\t\t\t\t\t@input=\"handlePageChange\">\n\t\t\t\t\t\t</v-pagination>\n\t\t\t\t\t</v-col>\n\t\t\t\t</v-row>\n\n\t\t<v-row>\n\t\t\t<v-col class=\"d-flex\" v-for=\"item in filteredList\" :key=\"item.stationuuid\" >\n\t\t\t\t<!-- save space -->\n\t\t\t\t<v-row justify=\"center\">\n\t\t\t\t<v-hover  v-slot:default=\"{ hover }\" close-delay=\"200\">\n\t\t\t\t\t<v-card outlined tiled class=\"mx-auto\" max-width=\"150px\" :elevation=\"hover ? 16 : 2\" @click.native=\"doSelect(item.name)\">\n\n\t\t\t\t\t<v-img\n\t\t\t\t\t\t:src=\"item.iconUrl\"\n\t\t\t\t\t\tclass=\"white--text align-end\"\n\t\t\t\t\t\theight=\"150px\" \n\t\t\t\t\t\twidth=\"150px\">\n\n\t\t\t\t\t</v-img>\n\t\t\t\t\t<v-card-text> \n\t\t\t\t\t\t{{ item.countryCode }} - {{ item.countryName }} ({{ item.stationcount}})\n\t\t\t\t\t</v-card-text>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t</v-card>\n\t\t\t\t</v-hover>\n\t\t\t</v-row>\n\t\t\t</v-col>\n\t\t</v-row>\n\t\t</v-form>\n\t</v-container>\n</template>\n\n<script>\n\nexport default {\n\tmethods: {\n\t\twaitforData: async function() {\n\t\t\twhile (this.$store.state.countries.length == 0)\n\t\t\t{\n\t\t\t\tawait new Promise(r => setTimeout(r, 1000));\n\t\t\t}\n\t\t\tthis.$store.commit('setLoading', false);\n\t\t\tthis.countries = this.$store.state.countries;\n\t\t\tthis.updatePage(this.page);\n\t\t},\n\n\t\tfilterList: function() {\n\t\t\t// restore countries;\n\t\t\tthis.countries = this.$store.state.countries;\n\t\t\tthis.$refs.searchField.blur();\n\t\t\tif (!(this.searchString === \"\"))\n\t\t\t{\n\t\t\t\tvar searchString = this.searchString;\n\t\t\t\t\t\n\t\t\t\tconst filtered = Object.entries(this.countries).filter(function(c){\n\t\t\t\t\treturn String(c[1].countryName).toLowerCase().includes(searchString.toLowerCase()) || \n\t\t\t\t\t\t\tString(c[1].countryCode).toLowerCase().includes(searchString.toLowerCase());\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t// update (filtered) countries list\n\t\t\t\tthis.countries = Object.values(Object.fromEntries(filtered));\n\n\t\t\t\tconsole.log(\"filter (\" + searchString + \") applied.\");\n\t\t\t}\n\t\t},\n\n\t\tupdatePage: function(pageIndex) {\n\t\t\tthis.listSize = this.countries.length;\n\t\t\tlet _start = (pageIndex - 1) * this.pageSize;\n\t\t\tlet _end = pageIndex * this.pageSize;\n\t\t\tthis.filteredList = this.countries.slice(_start, _end);\n\t\t\tthis.page = pageIndex;\n\t\t},\n\n\t\thandlePageChange(value) {\n\t\t\tconsole.log(\"handlePageChange called! page = \" + value);\n\t\t\tthis.updatePage(value);\n\t\t},\n\n\t\thandlePageSizeChange(size) {\n\t\t\tthis.pageSize = size;\n\t\t\tthis.page = 1;\n\t\t\tthis.updatePage(this.page);\n\t\t},\n\n\t\tdoSearch() {\n\t\t\tthis.page = 1;\n\t\t\tthis.filterList();\n\n\t\t\tthis.updatePage(this.page);\n\t\t},\n\n\t\tdoSelect: function (search) {\n\t\t\tconsole.log(\"doSelect called.\");\n\t\t\tthis.$router.push({ path: '/countries/'+search.toLowerCase() });\n\t\t},\n\t},\n\n\tdata: () => ({ \n\t\t\tpage: 1,\n\t\t\tpageSize: 20,             \n\t\t\tcountries: [],\n\t\t\tfilteredList: [],\n\t\t\tsearchString: \"\",\n\t\t\tpageSizes: [10, 20, 30, 40, 50],\n\t\t\tlistSize: 0,\n\t\t\titemList: []\n\t}),\n\n\tcomputed: {\n\t\ttotalPages() {\n\t\t\tif (this.pageSize == null || this.listSize == null) return 0;\n\t\t\treturn Math.ceil(this.listSize / this.pageSize);\n\t\t}\n\t},\n\n\tasync mounted() {\n\t\tthis.$store.commit('setLoading', true);\n\t\tthis.$store.dispatch('setupCountries');\n\t\t\n\t\tawait this.waitforData();\n\t}\n  }\n\n</script>\n\n<style>\n\t.v-card {\n\t\tcursor: pointer;\n\t}\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Countries.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Countries.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Countries.vue?vue&type=template&id=2e839a5e&\"\nimport script from \"./Countries.vue?vue&type=script&lang=js&\"\nexport * from \"./Countries.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Countries.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VHover } from 'vuetify/lib/components/VHover';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VPagination } from 'vuetify/lib/components/VPagination';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCol,VContainer,VForm,VHover,VImg,VPagination,VRow,VSelect,VTextField})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Countries.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Countries.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}